Политика в Core service

AllowAnonymous:
+ смотреть информацию о FitnessClubs
+ смотреть информацию о Areas
+ смотреть информацию о Products
+ смотреть информацию о TimeSlots (без инфо из Trainings)


User:
+ действия AllowAnonymous

+ смотреть информацию о Contracts(по UserId)
+ добавить Contract(т.е. купить Product, без ManagerId и IsApproved)

+ смотреть информацию о Trainings(по UserId с инфо из TimeSlots)
+ добавить Training(если TimeSlot.IsBusy == false, тогда обновить TimeSlot.IsBusy = true)

+ удалить Training(по UserId; обновить TimeSlot.IsBusy = false; отправить оповещение тренеру, менеджеру об отмене тренировки)


Trainer:
+ действия AllowAnonymous

+ смотреть информацию о TimeSlots (c инфо из Trainings по TrainerId)

+ редактировать Training(Description, Points)


Manager:
+ действия AllowAnonymous

+ добавить новый Product
+ поместить в архив Product

+ редактировать Contract (т.е. подтвердить, обновив только IsApproved = true и ManagerId)

+ смотреть информацию о TimeSlots (c инфо из Trainings без Description и Points)
+ создать TimeSlot (IsBusy = false)
+ редактировать TimeSlot(только TrainerId, AreaId)


Administrator:
+ действия  Manager

+ редактировать FitnessClub(кроме OwnerId)

+ добавить Area
+ редактировать Area
+ поместить в архив Area

+ редактировать TimeSlot(кроме DateTime, Duration, IsBusy)
+ удалить TimeSlot (при этом отправить оповещение пользователю об отмене тренировки)


Owner:
+ действия Administrator

+ добавить FitnessClub
+ поместить в архив FitnessClub